/*! bootstrap-extra-modal by Vasco Gaspar */
/*! Last Updated: 2015-09-15 */
$.fn.bootstrapExtraModal=function(a){var b=this,c={backdrop:"static",keyboard:!1,reload:!1,position:"default",css:"",openAnimation:"jelly",closeAnimation:"unjelly",pushContent:!1};this.options=$.extend(c,a||{});var d=$(this),e=null;b.options.position;return d.addClass(b.options.css),this.content=function(a){var b=d.find(".modal-dialog");return b.html(a),this},this.show=function(){switch(d.removeClass(b.options.closeAnimation),d.modal(b.options),d.css("display","block"),b.options.position){case"right":b.options.openAnimation="slide-right",b.options.closeAnimation="unslide-right",b.options.css="modal-right",d.addClass(b.options.css+" "+b.options.openAnimation),b.pushContent("push-right");break;case"left":b.options.openAnimation="slide-left",b.options.closeAnimation="unslide-left",b.options.css="modal-left",d.addClass(b.options.css+" "+b.options.openAnimation),b.pushContent("push-left");break;default:d.addClass(b.options.openAnimation),console.log(b.options.position)}return e=$(".modal-backdrop"),e.click(function(){b.dismiss()}),this.afterShow(),d},this.pushContent=function(a){b.options.pushContent&&"right"===b.options.position?$(".push-content").addClass(a):b.options.pushContent&&"left"===b.options.position&&$(".push-content").addClass(a)},this.dismiss=function(){d.removeClass(b.options.closeAnimation),d.removeClass(b.options.openAnimation),d.addClass(b.options.closeAnimation),e.addClass("fade-out"),e.removeClass("in"),b.options.pushContent&&"right"===b.options.position?b.pushContent("unpush-right"):b.options.pushContent&&"left"===b.options.position&&b.pushContent("unpush-left"),setTimeout(function(){d.modal("hide"),d.removeClass(b.options.css),d.removeClass(b.options.closeAnimation),b.options.closeAnimation="",b.options.position="",b.options.pushContent&&$(".push-content").removeClass("push-right unpush-right push-left unpush-left"),b.options.reload&&location.reload()},200)},this.afterShow=function(){$('[data-dismiss="modal"]').click(function(a){a.preventDefault(),a.stopPropagation(),b.dismiss()})},$(document).keyup(function(a){27==a.keyCode&&b.dismiss()}),d.click(function(a){!$(a.target).closest(".modal-dialog").length>0&&b.dismiss()}),b},$(function(){$.fn.bootstrapExtraModal=function(a){var b=$.extend({backdrop:"static",keyboard:!0,reload:!1,position:"default",css:"",openAnimation:"jelly",closeAnimation:"unjelly",pushContent:!1},a),c=$(this),d=c.find(".modal-dialog"),e=null,f=function(a){!b.pushContent||"left"!==b.position&&"right"!==b.position||$(".push-content").addClass(a)},g=function(){$('[data-dismiss="modal"]').click(function(a){a.preventDefault(),a.stopPropagation(),h.hide()})},h={show:function(){switch(c.removeClass(b.closeAnimation),c.modal(b),c.css("display","block"),c.addClass(b.css),b.position){case"right":b.openAnimation="slide-right",b.closeAnimation="unslide-right",b.css="modal-right",c.addClass(b.css+" "+b.openAnimation),f("push-right");break;case"left":b.openAnimation="slide-left",b.closeAnimation="unslide-left",b.css="modal-left",c.addClass(b.css+" "+b.openAnimation),f("push-left");break;default:c.addClass(b.openAnimation)}return e=$(".modal-backdrop"),e.click(function(){h.hide()}),g(),c},hide:function(){c.removeClass(b.closeAnimation),c.removeClass(b.openAnimation),c.addClass(b.closeAnimation),e=$(".modal-backdrop"),e.addClass("fade-out"),e.removeClass("in"),b.pushContent&&"right"===b.position?f("unpush-right"):b.pushContent&&"left"===b.position&&f("unpush-left"),setTimeout(function(){c.modal("hide"),c.removeClass(b.css),c.removeClass(b.closeAnimation),b.closeAnimation="",b.position="",b.pushContent&&$(".push-content").removeClass("push-right unpush-right push-left unpush-left"),b.reload&&location.reload()},200)},content:function(a){return a?(d.html(a),this):void 0}};return $.fn.Destroy=function(){$.fn.bootstrapExtraModal={}},$(document).keyup(function(a){27==a.keyCode&&b.keyboard&&h.hide()}),c.click(function(a){!$(a.target).closest(".modal-dialog").length>0&&b.backdrop&&(a.preventDefault(),a.stopPropagation(),h.hide())}),h};var a=$("[data-em-selector]");a.each(function(){var a=$(this).data();$(this).click(function(){$(a.emSelector).bootstrapExtraModal({position:a.emPosition,pushContent:a.emPushContent}).show()})})});